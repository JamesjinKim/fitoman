{% extends "base.html" %} 
{% block title %}프로젝트 등록{% endblock %} 

{% block content %}
<table class="table table-hover table-striped" id="table1">
    <thead>
        <tr>
        <th style="width: 10px;">ID</th>
        <th style="width: 100px;">Order No</th>
        <th style="width: 160px;">Order 명</th>
        <th style="width: 120px;">시작일자</th>
        <th style="width: 120px;">종료일자</th>
        <th style="width: 120px;">Description</th>
        <th></th>
        </tr>
    </thead>
    {% for data in all_data %}
    <tbody>
      <tr>
        <td>{{data.pid}}</td>
        <td>{{data.pcode}}</td>
        <td>{{data.pname}}</td>
        <td>{{data.startdate}}</td>
        <td>{{data.enddate}}</td>
        <td>{{data.pdesc}}</td>
        <td>
            <a href="/views.project_update/{{row.id}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{data.id}}">Edit</a>
            <a href="/project_delete/{{data.id}}" class="btn btn-danger btn-xs" onclick="return confirm('이 데이터를 삭제하시겠습니까?')">Delete</a>
        </td>
      </tr>
    </tbody>
     <!-- Model for updating project view data -->
     <div id="modaledit{{data.id}}" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"> Update Project Data </h4>
                </div>
                <div class="modal-body">
                    <form action="{{url_for('views.project_update')}}" method="POST">

                        <div class="form-group">
                            <label>프로젝트 코드</label>
                            <input type="hidden" name="id" value="{{data.id}}">
                            <input type="text" class="form-control" name="pcode" value="{{data.pcode}}" required="1">
                        </div>

                        <div class="form-group">
                            <label>프로젝트명</label>
                            <input type="text" class="form-control" name="pname" value="{{data.pname}}" required="1">
                        </div>

                        

                        <div class="modal-footer">
                            <button class="btn btn-info" type="submit"> Update</button>
                            <button class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</table>
{% endblock %}